<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
    /*
      自定义实现一组数组声明式方法
        1. map()
        2. reduce()
        3. filter()
        4. find()
        5. findIndex()
        6. every()
        7. some()
    */

    /* 1. map() */

    // Array.prototype.map = function (callback) {
    //   const arr = []
    //   for (let i = 0; i < this.length; i++) {
    //     // 遍历原数组 this 中每一项传入回调函数，并添加到新数组
    //     arr.push(callback(this[i], i))
    //   }
    //   // 返回一个新数组
    //   return arr
    // }

    // // 需求：奇数项 + 10，偶数项 + 20
    // const arr = [1, 3, 4, 5, 7, 9]
    // var result = arr.map((item, index) => {
    //   if (index % 2 === 0) {
    //     return item + 10
    //   } else {
    //     return item + 20
    //   }
    // })
    // console.log(result)


    /* 2. reduce() */

    // Array.prototype.reduce = function (callback, initValue) {
    //   // 初始时 total 等于第二个参数传进来的初始值
    //   let total = initValue
    //   for (let i = 0; i < this.length; i++) {
    //     // 每次循环结束，total 都等于 callback 中返回的结果
    //     total = callback(total, this[i], i)
    //   }
    //   return total
    // }

    // // 需求：所有下标为奇数，且数值也为奇数的和
    // const arr = [1, 3, 4, 5, 7, 8]
    // var result = arr.reduce((pre, item, index) => {
    //   if (index % 2 === 1 && item % 2 === 1) {
    //     pre += item
    //   }
    //   // 这里如果不返回结果，最终 result 就是 undefined
    //   return pre
    // }, 0)
    // console.log(result)


    /* 3. filter() */
    
    // Array.prototype.filter = function (callback) {
    //   const arr = []
    //   for (let i = 0; i < this.length; i++) {
    //     // 判断如果该回调函数返回的值是否为真
    //     if (callback(this[i], i)) {
    //       // 为真，就把该值放到新数组
    //       arr.push(this[i])
    //     }
    //   }
    //   return arr
    // }

    // // 需求：得到所有下标为奇数，数值为奇数的元素
    // const arr = [1, 3, 4, 5, 7, 8]
    // var result = arr.filter((item, index) => index % 2 === 1 && item % 2 === 1)
    // console.log(result)


    /* 4. find() */

    // Array.prototype.find = function (callback) {
    //   for (let i = 0; i < this.length; i++) {
    //     // 判断如果该回调函数返回的值是否为真
    //     if (callback(this[i], i)) {
    //       // 为真就直接 return 这个值，且只返回满足的第一个结果
    //       return this[i]
    //     }
    //   }
    //   // 此处是为了优化代码，但也可以不写，JS 会自动返回 undefined
    //   return '没有找到您需要的内容'
    // }

    // // 需求：查找下标为奇数，且值为奇数的第一个数的值
    // const arr = [1, 3, 4, 5, 7, 8]
    // var result = arr.find((item, index) => index % 2 === 1 && item % 2 === 1)
    // console.log(result)


    /* 5. findIndex() */

    // Array.prototype.findIndex = function (callback) {
    //   for (let i = 0; i < this.length; i++) {
    //     // 判断如果该回调函数返回的值是否为真
    //     if (callback(this[i], i)) {
    //       // 为真就直接 return 这个 i，且只返回满足的第一个结果
    //       return i
    //     }
    //   }
    //   // 此处是为了优化代码，但也可以不写，JS 会自动返回 undefined
    //   return '没有找到您对应的内容'
    // }

    // // 需求：查找下标为奇数，且值为奇数的第一个数的索引
    // const arr = [1, 3, 4, 5, 7, 8]
    // var result = arr.findIndex((item, index) => index % 2 === 1 && item % 2 === 1)
    // console.log(result)

    
    /* 6. every() */

    // Array.prototype.every = function (callback) {
    //   for (let i = 0; i < this.length; i++) {
    //     // 判断如果该回调函数返回的值是否为假
    //     if (!callback(this[i], i)) {
    //       // 如果假的条件被执行到，说明至少有一项都不符合
    //       return false
    //     }
    //   }
    //   // 都符合条件
    //   return true
    // }

    // // 需求：查询是否数组中的每一项都大于 3
    // const arr = [1, 3, 4, 5, 7, 8]
    // var result = arr.every((item, index) => item > 3)
    // console.log(result)


    /* 7. some() */

    // Array.prototype.some = function (callback) {
    //   for (let i = 0; i < this.length; i++) {
    //     // 判断如果该回调函数返回的值是否为真
    //     if (callback(this[i], i)) {
    //       // 如果该条件为真，说明至少有一项符合
    //       return true
    //     }
    //   }
    //   // 都不符合条件
    //   return false
    // }

    // // 需求：查询是否数组中的有一项大于 3
    // const arr = [1, 3, 4, 5, 7, 8]
    // var result = arr.some((item, index) => item > 3)
    // console.log(result)
  </script>
</body>
</html>